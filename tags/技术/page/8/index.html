<!DOCTYPE html>
<html >
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>xilixili.net | 生活と技术の杂记</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="xilixili.net | 生活と技术の杂记">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="xilixili.net | 生活と技术の杂记">
    <meta property="og:description" content="">

    
    <meta name="author" content="rangerlee">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/avatar-small.png">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="xilixili.net" href="/atom.xml">
    

    <link rel="canonical" href="xilixili.net"/>

                 
</head>

<body class="home-template no-js">
    <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <h1 class="panel-cover__title panel-title"><a href="/" title="访问首页 xilixili.net">xilixili.net</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle"><!-- 生活と技术の杂记 --></span>
        
        <hr class="panel-cover__divider">
        
        <p class="panel-cover__description">生活と技术の杂记</p>
        
	<hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">博客</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/rangerlee" title="查看我的GitHub主页" target="_blank">
      <i class="social fa fa-github"></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class="social fa fa-rss"></i>
      <span class="label">RSS</span>
    </a>
  </li>


  <li class="navigation__item">
    <a href="mailto:http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=RzUmKSAiNSsiIgchKD8qJi4raSQoKg" title="邮件联系我" target="_blank">
      <i class="social fa fa-envelope"></i>
      <span class="label">Email</span>
    </a>
  </li>


  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-alpha"></div>
  </div> 
</header>
<script type="text/javascript">
var side = document.getElementsByClassName("panel-cover")[0];
function checkWebp() {
	try{
		return(document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') == 0);
	}catch(err) {
		return false;
	}
};

if(checkWebp()) {
	side.style.backgroundImage = "url('/images/background-cover.jpg.webp')";
} else {
	side.style.backgroundImage = "url('/images/background-cover.jpg')";
}
</script>


    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <div class="main-post-list">
    
  <ol class="post-list">
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2017/09/13/function-call-once/" title="阅读 如何保证函数只被调用一次">如何保证函数只被调用一次</a></h2>
      <p class="excerpt">
    
      经常会有一些函数全局只需要调用一次，如WSAStartup等，一般这种都会在程序入口处统一单独调用，但也容易忘记，封装在其他地方难免多次初始化，在C++中可以考虑采用一些技巧来实现。
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2017-09-13T08:00:00.000Z" class="post-list__meta--date date">2017-09-13</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2017/09/13/function-call-once/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2017/04/01/parse-pcap/" title="阅读 从PCAP简单提取HTTP数据">从PCAP简单提取HTTP数据</a></h2>
      <p class="excerpt">
    
      为了追查现网的声音卡顿和噪音问题，做了一些抓包。但是我们协议当时还没有采用WebSocket，而且采用了双工的HTTP，想从里面提取音频不太容易，而且更主要的是还需要和包时间进行分析，分析卡顿问题。我的设想是提取TCP包内容，解析HTTP协议并提取音频数据，根据包时间和间隔，填充需要的静音数据进去，最终保存一个音频文件。
音频部分目前是PCM格式，而且也是很规律标准的320字节，不需要编解码，直接
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2017-04-01T07:11:00.000Z" class="post-list__meta--date date">2017-04-01</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2017/04/01/parse-pcap/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2017/03/16/htmlparser/" title="阅读 C++实现HTML解析器">C++实现HTML解析器</a></h2>
      <p class="excerpt">
    
      闲来无事，想做个网页爬虫。用C++来做的话，当然是先要做HTTP下载了，最简单的方式当然是用libcurl实现，然后从网页信息中提取必要的信息即可。这其中，libcurl下载可以支持chunked流及gzip压缩的特殊情况，难点在于HTML的解析。
HTML是从XML来的，我用项目之前的xml封装库做解析，发现HTML文档并不能解析成功，但是在网页浏览器却可以成功，打开开发者工具查看DOM树，发现
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2017-03-16T06:06:00.000Z" class="post-list__meta--date date">2017-03-16</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2017/03/16/htmlparser/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2017/02/23/weixinalarm/" title="阅读 用微信做现网告警">用微信做现网告警</a></h2>
      <p class="excerpt">
    
      一般对于比较重要的现网监控，都有专人维护。但是个别规模很小切偶发问题几率很小的业务，用现有的邮件告警实时性比较低，一个是因为非办公地点很少登录邮件，另外一个就是垃圾邮件比较多。而短信和微信就比较方便了，不过短信一般需要收费，我们可以使用免费的微信实现实时告警消息。
实现业务是一个Spring的Web项目，在日志中采用了logback日志框架。logback日志框架有个好处就是可以配置很多的appe
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2017-02-23T01:03:00.000Z" class="post-list__meta--date date">2017-02-23</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2017/02/23/weixinalarm/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2017/02/22/zookeeper/" title="阅读 C++集成zookeeper客户端">C++集成zookeeper客户端</a></h2>
      <p class="excerpt">
    
      zookeeper是Java下常用的分布式应用程序协调服务。因接触到Java业务系统的一些架构，比如流行的微服务架构等等都采用zookeeper做服务发现。某些系统服务可以采用其他语言如C\C++实现来提升性能或者实现某些特殊功能。
本文为C++集成zookeeper客户端的开发调研。
开始zookeeper的C\C++开发客户端源代码和zookeeper在一起，从官网下载zookeeper包，解
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2017-02-22T03:39:00.000Z" class="post-list__meta--date date">2017-02-22</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2017/02/22/zookeeper/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2017/02/07/webp/" title="阅读 网页自适应显示WebP图片">网页自适应显示WebP图片</a></h2>
      <p class="excerpt">
    
      生命不息，折腾不止。
起因最近上传了个背景图，加载的非常慢，才发现上传了个1M多的图。优化手段无非就是做做图片裁剪已经质量压缩，网上确实也有不少的分析压缩的方法，但基本都是jpeg和png等。偶然发现最近流行的WebP格式，又是对图片压缩的一大进步，可以大幅优化流量。
WebP就不多做介绍了，有兴趣的百度之。总之这个格式比等质量的png和jpg图片要小不少。但是作为浏览器的通病，各个浏览器未必能够
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2017-02-07T12:44:00.000Z" class="post-list__meta--date date">2017-02-07</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2017/02/07/webp/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2017/01/18/blog/" title="阅读 博客迁移Hexo">博客迁移Hexo</a></h2>
      <p class="excerpt">
    
      用了大半年的Ink Paper静态博客引擎，时间长了就感觉风格有点过于素雅了，感觉一点色彩都没有（文档列表基本也没设置图），而且不知为何官网都无法访问了，不知何故。闲话不说，首先谈谈我用这个GO语言开发的博客系统使用这么长时间的感受

简洁，非常适合阅读，基本纯黑白文字
主题太少，貌似就两个主题，而且新版本主题用不起来
页面太窄，主题原因吧，字体显示也不是太喜欢
生成速度快，这个是官方说的，其实没
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2017-01-18T02:54:00.000Z" class="post-list__meta--date date">2017-01-18</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2017/01/18/blog/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2016/11/23/resiprocate-add-history-info/" title="阅读 扩展reSIProcate库">扩展reSIProcate库</a></h2>
      <p class="excerpt">
    
      reSIProcate是非常优秀的开源SIP协议栈，而且历史也很久了。在我们项目中很早引入之后，基本就没有再升级过，最近有需求要从History-Info中提取原被叫。仔细看了下我们的版本还没有支持，虽然新版本支持了，但是鉴于我们在源码中做了大量修改，不是很适合短期内能升级解决的，还是继续在源码实现吧。
History-Info是比较新的SIP协议规范，见RFC 4244，一般是用来记录前转业务的
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2016-11-23T03:04:00.000Z" class="post-list__meta--date date">2016-11-23</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2016/11/23/resiprocate-add-history-info/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2016/10/10/plog/" title="阅读 Plog日志库">Plog日志库</a></h2>
      <p class="excerpt">
    
      C\C++程序员最喜欢干的事情就是写个日志库了，基本上所有人都干过。在实际项目中基本上，各个项目都会有自己的日志要求等等，另外由于写一个日志框架也不是很难，所以有大量的日志框架可供选择（相比起来Java就少的多）。最近应用了一个新的日志框架plog，感觉非常好，特此推荐一下。
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2016-10-10T14:00:00.000Z" class="post-list__meta--date date">2016-10-10</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2016/10/10/plog/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
    <li>
      <h2 class="post-list__post-title post-title"><a href="/2016/09/23/linux-api-hook/" title="阅读 Linux下hook实现">Linux下hook实现</a></h2>
      <p class="excerpt">
    
      项目中需要改变一个动态库的默认行为，但一般我们没有源码或者不可能通过修改源码的方式实现，因此需要用到hook。linux下hook函数实现一般用的比较少，但是比起win32要简单的多，下面介绍常用的一些方法。
预加载预加载的方式如下，首先我们实现需要hook函数的同名函数，将相关代码编译成so，在程序启动前采用 LD_PRELOAD 宏进行加载，比如
export LD_PRELOAD=./lib
    &hellip;
      </p>
      <div class="post-list__meta"><time datetime="2016-09-23T02:09:00.000Z" class="post-list__meta--date date">2016-09-23</time> &#8226; <span class="post-list__meta--tags tags">
  <a class="tag-link" href="/tags/技术/">技术</a>
</span><a class="btn-border-small" href="/2016/09/23/linux-api-hook/">继续阅读</a></div>
      <hr class="post-list__divider">
    </li>
  
    
  </ol>


  <nav class="pagination" role="navigation">
    
      <a class="older-posts pagination__newer btn btn-small btn-tertiary" href="/tags/技术/page/7/">&larr; 最近</a>
    
    <span class="pagination__page-number">  8 / 9 </span>
    
      <a class="older-posts pagination__older btn btn-small btn-tertiary" href="/tags/技术/page/9/">更早 &rarr;</a>
    
  </nav>

 <script type="text/x-mathjax-config">
    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
        tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
        messageStyle: "none"
    }); 
    
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</div>


            <footer class="footer">
    <span class="footer__copyright">
        &copy; 2023 rangerlee - 本站点采用 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
       
    </span>
    <span class="footer__copyright">
             - 本站基于开源 <a href="http://hexo.io">Hexo</a> 搭建，采用 <a href="https://github.com/rangerlee/hexo-theme-new-vno">hexo-theme-new-vno</a> 主题，修改自 <a href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> 主题  <a href="http://www.beian.miit.gov.cn">皖ICP备16009457号</a>
         </span>
       
    
    
</footer>


        </div>
    </div>

     
    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?bab4f71524319c10819bcae280021624";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
</body>
</html>
